{
  "intent_id": "INT-010",
  "title": "Define V1 output contract + pipeline scaffolding",
  "status": "todo",
  "created_date": "2026-01-20",
  "close_gate": [
    "npm run guardrails",
    "npm run generate:check",
    "npm run audit:intent -- --intent-id INT-010"
  ],
  "summary": [
    "Codify the match output bundle and canonical track/event schemas.",
    "Create a minimal pipeline CLI and directory layout to make subsequent vision/calibration work incremental."
  ],
  "non_goals": [
    "Implement the full vision pipeline (detection/tracking/calibration) beyond scaffolding and contracts.",
    "Add non-deterministic outputs or implicit schemas that require reading code to interpret."
  ],
  "success_criteria": [
    "Bundle layout + required artifacts are explicit and validated by code.",
    "Canonical record schemas are documented in the output contract template and mirrored in code types.",
    "CLI can init/validate bundles with actionable errors suitable for CI/guardrails."
  ],
  "requirements_in_scope": [
    "FUSBAL-V1-OUT-001",
    "FUSBAL-V1-DATA-001",
    "FUSBAL-V1-TRUST-001",
    "SYS-ARCH-15",
    "AUD-REQ-10"
  ],
  "task_ids_planned": [
    "TASK-V1-OUT-001",
    "TASK-V1-DATA-001",
    "TASK-V1-CLI-001",
    "TASK-INT-010-IMP-001",
    "TASK-INT-010-IMP-002",
    "TASK-INT-010-IMP-003",
    "TASK-INT-010-IMP-004",
    "TASK-INT-010-IMP-005",
    "TASK-INT-010-IMP-006",
    "TASK-INT-010-IMP-007",
    "TASK-INT-010-IMP-008",
    "TASK-INT-010-IMP-009",
    "TASK-INT-010-IMP-010"
  ],
  "quality_areas": [
    {
      "area_id": "functional",
      "title": "Functional objectives",
      "task_ids": [
        "TASK-V1-OUT-001",
        "TASK-V1-DATA-001",
        "TASK-INT-010-IMP-004",
        "TASK-INT-010-IMP-007",
        "TASK-INT-010-IMP-008"
      ],
      "objectives": [
        "Bundle layout + required artifacts are explicit and documented.",
        "Canonical record schemas are explicit, versioned, and documented.",
        "Downstream consumers can validate outputs without reading pipeline code.",
        "Portal surfaces make audit outcomes easy to discover and review."
      ]
    },
    {
      "area_id": "nonfunctional",
      "title": "Non-functional objectives",
      "categories_required": [
        "correctness_safety",
        "performance",
        "security",
        "maintainability"
      ],
      "task_ids": [
        "TASK-V1-CLI-001",
        "TASK-INT-010-IMP-001",
        "TASK-INT-010-IMP-002",
        "TASK-INT-010-IMP-003",
        "TASK-INT-010-IMP-005",
        "TASK-INT-010-IMP-006",
        "TASK-INT-010-IMP-009",
        "TASK-INT-010-IMP-010"
      ],
      "objectives": [
        "Validation and error messages are actionable (trust-first).",
        "Manifests and generated outputs are deterministic for auditability.",
        "Validation and evidence capture scale to large bundles and automation."
      ]
    }
  ],
  "work_packages": [
    {
      "work_package_id": "INT-010-001",
      "title": "Output bundle + schemas",
      "items": [
        "TASK-V1-OUT-001 Define bundle layout + required artifacts + deterministic manifests (code + contract).",
        "TASK-V1-DATA-001 Define canonical record schemas + metadata (code + contract)."
      ]
    },
    {
      "work_package_id": "INT-010-002",
      "title": "Pipeline scaffolding",
      "items": [
        "TASK-V1-CLI-001 Minimal CLI for init/validate of bundle layout with clear errors."
      ]
    },
    {
      "work_package_id": "INT-010-003",
      "title": "Follow-up quality improvements",
      "items": [
        "TASK-INT-010-IMP-001 Stream `tracks.jsonl` validation to avoid loading large files into memory.",
        "TASK-INT-010-IMP-002 Add structured error codes and optional JSON output for validation.",
        "TASK-INT-010-IMP-003 Add minimal unit tests for determinism and schema validation.",
        "TASK-INT-010-IMP-004 Extend `init` to optionally scaffold placeholder outputs.",
        "TASK-INT-010-IMP-005 Tighten numeric/range validation for track/event fields.",
        "TASK-INT-010-IMP-006 Improve manifest portability (avoid forced absolute paths).",
        "TASK-INT-010-IMP-007 Export the V1 contract as JSON Schema for downstream validators.",
        "TASK-INT-010-IMP-008 Show per-task quality audit results in the internal portal UI.",
        "TASK-INT-010-IMP-009 Capture evidence for `npm run generate` runs and enforce at close.",
        "TASK-INT-010-IMP-010 Add lightweight formatting/linting for the pipeline Python package."
      ]
    }
  ]
}
