{
  "schema_version": 1,
  "task_id": "TASK-INT-010-IMP-006",
  "intent_id": "INT-010",
  "title": "Improve manifest portability (avoid forced absolute paths)",
  "status": "todo",
  "scope": [
    "Ensure manifests are portable when a bundle directory is moved between machines or paths.",
    "Avoid encoding absolute filesystem paths unless explicitly requested.",
    "Preserve deterministic manifest semantics."
  ],
  "acceptance": [
    "Manifests prefer relative paths rooted at the bundle directory (or a clearly defined base).",
    "A bundle can be relocated and re-validated without rewriting manifests.",
    "Manifest output remains deterministic across runs for identical inputs."
  ],
  "deliverables": [
    {
      "deliverable_id": "DELIV-TASK-INT-010-IMP-006-001",
      "title": "Portable manifest path semantics in bundle/CLI code",
      "paths": [
        "pipeline/src/fusbal_pipeline/bundle.py",
        "pipeline/src/fusbal_pipeline/cli.py"
      ],
      "acceptance": [
        "Manifest generation does not embed forced absolute paths by default.",
        "Validation resolves manifest paths relative to the bundle root deterministically."
      ],
      "evidence": [
        "Moving a bundle directory preserves `validate` success without edits.",
        "Manifest diffs are stable across machines for the same content."
      ]
    }
  ],
  "subtasks": [
    {
      "subtask_id": "SUB-TASK-INT-010-IMP-006-001",
      "title": "Define portable manifest path rules and update manifest generation accordingly.",
      "status": "todo",
      "area": "pipeline",
      "provenance_prefix": "FUSBAL.PIPELINE.TASK_INT_010_IMP_006.SUB_001",
      "done_when": [
        "Manifest path rules are explicit and deterministic.",
        "Generated manifests no longer depend on absolute bundle root paths by default."
      ]
    },
    {
      "subtask_id": "SUB-TASK-INT-010-IMP-006-002",
      "title": "Update validation to resolve manifest paths relative to bundle root consistently.",
      "status": "todo",
      "area": "pipeline",
      "provenance_prefix": "FUSBAL.PIPELINE.TASK_INT_010_IMP_006.SUB_002",
      "done_when": [
        "`validate` resolves manifest paths portably and deterministically.",
        "Errors remain actionable (path + missing/invalid artifact)."
      ]
    }
  ]
}
