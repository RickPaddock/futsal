{
  "schema_version": 1,
  "task_id": "TASK-GCP-GCS-IO-001",
  "intent_id": "INT-070",
  "title": "GCS I/O: download video and upload bundle atomically",
  "status": "todo",
  "scope": [
    "Implement GCS download of input videos to a local working directory on the worker.",
    "Upload the output bundle to a GCS prefix with atomic/consistent layout (no partial bundles).",
    "Persist a small machine-readable run summary for portal ingestion."
  ],
  "acceptance": [
    "Worker can download `gs://...` video URI to a local path for processing.",
    "Bundle publish is defined as: upload all artifacts to a unique temp prefix, then write a single completion marker/manifest at the final prefix that is the only completeness signal for consumers (no partial bundle ingestion).",
    "A run summary JSON is written alongside outputs with ok/error and artifact paths."
  ],
  "deliverables": [
    {
      "deliverable_id": "DELIV-TASK-GCP-GCS-IO-001-001",
      "title": "GCS I/O helpers and run summary writer",
      "paths": [
        "tools/gcp/gcs_io.py",
        "tools/gcp/run_summary.py",
        "tools/gcp/bundle_publish.py"
      ],
      "acceptance": [
        "GCS download/upload operations are encapsulated and error messages are actionable.",
        "Run summary JSON includes mode, timestamps, and artifact locations.",
        "Publish helper writes a completion marker/manifest that downstream consumers can use as the completeness signal."
      ]
    }
  ],
  "subtasks": [
    {
      "subtask_id": "SUB-TASK-GCP-GCS-IO-001-001",
      "title": "Implement download/upload helpers and atomic publish pattern.",
      "status": "todo",
      "area": "tools",
      "provenance_prefix": "FUSBAL.MVP.TASK_GCP_GCS_IO_001.SUB_001",
      "done_when": [
        "gcs_io.py supports download of a single video object.",
        "Upload publishes a complete bundle layout without partial visibility."
      ]
    }
  ]
}
