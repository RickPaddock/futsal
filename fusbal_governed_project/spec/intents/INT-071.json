{
  "intent_id": "INT-071",
  "title": "MVP-0: player detection + tracking (YOLO + MOT, trust-first)",
  "status": "todo",
  "created_date": "2026-01-23",
  "runbooks": {
    "decision": "none",
    "paths_mdt": [],
    "notes": "No runbook changes required for this intent."
  },
  "paths_allowed": [
    "spec/",
    "pipeline/",
    "status/audit/"
  ],
  "paths_excluded": [
    "docs/",
    "models/",
    "status/intents/",
    "status/portal/",
    "status/wizard/"
  ],
  "close_gate": [
    "npm run generate",
    "npm run guardrails",
    "npm run audit:intent -- --intent-id INT-071"
  ],
  "summary": [
    "Integrate a real player detector (YOLO checkpoint) and MOT to produce player tracks on real video.",
    "Enforce trust-first identity: break over swap when association confidence is low or ambiguous; emit Unknown rather than guessing."
  ],
  "non_goals": [
    "Passes/possession (V2).",
    "Cross-match player re-identification (V2+).",
    "SAM2 occlusion recovery (separate intent once checkpoint is available).",
    "Ball detection/tracking and ball-player interaction logic (separate intent).",
    "Event inference (shots/goals) beyond emitting player tracks (separate intent)."
  ],
  "success_criteria": [
    "A local (non-fixture) video run produces a bundle whose tracks.jsonl contains player TrackRecordV1 records and passes contract validation.",
    "Player identity continuity is trust-first: ambiguous association ends a segment with break_reason (break over swap) and this behavior is validated by tests/fixtures.",
    "Team assignment outputs team ∈ {A,B,Unknown} and team_confidence ∈ [0,1]; when confidence is below an explicit threshold, team is Unknown (no silent guessing)."
  ],
  "requirements_in_scope": [
    "FUSBAL-V1-PLAYER-001",
    "FUSBAL-V1-TEAM-001",
    "FUSBAL-V1-DATA-001",
    "FUSBAL-V1-TRUST-001",
    "SYS-ARCH-15"
  ],
  "task_ids_planned": [
    "TASK-PLAYER-DET-YOLO-001",
    "TASK-PLAYER-MOT-MVP-001",
    "TASK-PLAYER-TRACKS-JSONL-MVP-001",
    "TASK-TEAM-BIBS-MVP-001",
    "TASK-PLAYER-E2E-RUNNER-MVP-001"
  ],
  "quality_areas": [
    {
      "area_id": "functional",
      "title": "Functional objectives",
      "task_ids": [
        "TASK-PLAYER-DET-YOLO-001",
        "TASK-PLAYER-MOT-MVP-001",
        "TASK-TEAM-BIBS-MVP-001"
      ],
      "objectives": [
        "Detect players on frames (YOLO) and track them with swap-avoidant MOT (break over swap).",
        "Assign team (A/B/Unknown) from bib colors with confidence and smoothing."
      ]
    },
    {
      "area_id": "nonfunctional",
      "title": "Non-functional objectives",
      "categories_required": [
        "correctness_safety",
        "performance",
        "security",
        "maintainability"
      ],
      "task_ids": [
        "TASK-PLAYER-TRACKS-JSONL-MVP-001",
        "TASK-PLAYER-E2E-RUNNER-MVP-001"
      ],
      "objectives": [
        "Deterministic outputs and stable ordering for fixed inputs.",
        "Actionable failures when optional dependencies or checkpoints are missing.",
        "Keep model checkpoints out of the repository; record paths and versions in diagnostics."
      ]
    }
  ],
  "work_packages": [
    {
      "work_package_id": "INT-071-001",
      "title": "Detection + tracking core",
      "items": [
        "TASK-PLAYER-DET-YOLO-001 Integrate YOLO player detector backend (checkpoint-driven).",
        "TASK-PLAYER-MOT-MVP-001 Implement MOT and swap-avoidant association policy."
      ]
    },
    {
      "work_package_id": "INT-071-002",
      "title": "Contract outputs + team assignment",
      "items": [
        "TASK-PLAYER-TRACKS-JSONL-MVP-001 Emit contract-valid player records (segments, breaks, diagnostics).",
        "TASK-TEAM-BIBS-MVP-001 Assign Team A/B from bib colors with confidence and smoothing."
      ]
    },
    {
      "work_package_id": "INT-071-003",
      "title": "Runnable path",
      "items": [
        "TASK-PLAYER-E2E-RUNNER-MVP-001 Wire the player pipeline into a runnable CLI path that writes a real bundle."
      ]
    }
  ]
}

