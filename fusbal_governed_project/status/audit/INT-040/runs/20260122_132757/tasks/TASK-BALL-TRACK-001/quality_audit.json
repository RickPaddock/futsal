{
  "type": "task_quality_audit_report",
  "schema_version": 1,
  "intent_id": "INT-040",
  "run_id": "20260122_132757",
  "task_id": "TASK-BALL-TRACK-001",
  "timestamp": "2026-01-22T13:32:09Z",
  "functional": {
    "status": "pass",
    "notes": "Tracker emits exactly one ball record per frame with explicit missing state, and rejects large jumps conservatively (missing over wrong).",
    "evidence": [
      "pipeline/src/fusbal_pipeline/ball/tracker.py:BallTracker.update",
      "pipeline/tests/test_ball_v1.py:test_ball_tracker_emits_explicit_missing_records",
      "pipeline/src/fusbal_pipeline/contract.py:validate_track_record_v1"
    ],
    "findings": [
      "When no acceptable detection exists, BallTracker emits a TrackRecordV1 with pos_state=missing (explicit record, not an implicit gap).",
      "Large jumps are conservatively rejected and emitted as missing with diagnostics.missing_reason=jump_rejected."
    ]
  },
  "nonfunctional": {
    "correctness_safety": {
      "status": "pass",
      "notes": "Implements trust-first rules: never fabricates a position; emits missing on low confidence, no detections, invalid bbox, or excessive jump.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/ball/tracker.py:BallTracker.update",
        "pipeline/src/fusbal_pipeline/ball/track_types.py:BallTrackConfig"
      ],
      "findings": [
        "Jump rejection bounds prevent implausible motion from being treated as present.",
        "Confidence/quality in [0,1] are aligned with contract validation expectations."
      ]
    },
    "performance": {
      "status": "pass",
      "notes": "Per frame: selects max-confidence detection among present records and computes at most one distance; no unbounded history.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/ball/tracker.py:BallTracker.update"
      ],
      "findings": [
        "O(N) over detections for best-selection; constant additional state."
      ]
    },
    "security": {
      "status": "pass",
      "notes": "No file IO or command execution; operates on provided records.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/ball/tracker.py"
      ],
      "findings": []
    },
    "maintainability": {
      "status": "pass",
      "notes": "Uses centralized diagnostics keys and a small explicit config dataclass.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/diagnostics_keys.py",
        "pipeline/src/fusbal_pipeline/ball/track_types.py",
        "pipeline/src/fusbal_pipeline/ball/tracker.py"
      ],
      "findings": [
        "Stable diagnostics keys (FRAME_INDEX, MISSING_REASON, JUMP_PX) are imported from diagnostics_keys."
      ]
    },
    "overall_status": "pass"
  },
  "gate": {
    "status": "pass",
    "blockers": []
  },
  "audit_inputs": {
    "task_spec_path": "spec/tasks/TASK-BALL-TRACK-001.json",
    "deliverable_paths": [
      "pipeline/src/fusbal_pipeline/ball/tracker.py",
      "pipeline/src/fusbal_pipeline/ball/track_types.py",
      "pipeline/src/fusbal_pipeline/contract.py",
      "spec/md/docs/data/OUTPUT_CONTRACT.mdt"
    ],
    "code_paths_reviewed": [
      "pipeline/src/fusbal_pipeline/ball/tracker.py",
      "pipeline/src/fusbal_pipeline/ball/track_types.py",
      "pipeline/src/fusbal_pipeline/contract.py",
      "pipeline/src/fusbal_pipeline/diagnostics_keys.py",
      "pipeline/tests/test_ball_v1.py",
      "spec/md/docs/data/OUTPUT_CONTRACT.mdt"
    ]
  },
  "summary": {
    "overall_health_0_to_10": 7,
    "notes": "Meets trust-first missing behavior; does not currently emit pos_state=unknown (not exercised by tests)."
  }
}
