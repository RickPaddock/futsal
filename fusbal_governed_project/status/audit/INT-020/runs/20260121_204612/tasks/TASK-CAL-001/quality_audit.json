{
  "type": "task_quality_audit_report",
  "schema_version": 1,
  "intent_id": "INT-020",
  "run_id": "20260121_204612",
  "task_id": "TASK-CAL-001",
  "timestamp": "2026-01-21T20:49:54Z",
  "functional": {
    "status": "pass",
    "notes": "Schemas + fixtures exist, are versioned, and validate deterministically.",
    "evidence": [
      "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py: validate_pitch_template_v1(), load_pitch_template()",
      "pipeline/src/fusbal_pipeline/calibration/inputs.py: validate_calibration_input_v1(), load_calibration_input(), CLI `--validate`",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/pitch_template.json",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/calibration_input.json",
      "Command: `PYTHONPATH=pipeline/src python -m fusbal_pipeline.calibration.inputs --validate pipeline/fixtures/calibration/venues/example_venue/pitch_a/calibration_input.json` (exit 0, ok=true)",
      "spec/md/docs/data/OUTPUT_CONTRACT.mdt: documents calibration inputs/templates layout and semantics"
    ],
    "findings": [
      "Pitch template and calibration input records are explicit, schema-versioned, and have deterministic validation with structured error objects (code/path/field/index/value).",
      "Fixtures are small, synthetic, and deterministic; they demonstrate multi-venue/pitch layout via nested folders."
    ]
  },
  "nonfunctional": {
    "correctness_safety": {
      "status": "pass",
      "notes": "Validation is strict and trust-first (explicit fail with actionable errors).",
      "evidence": [
        "pipeline/src/fusbal_pipeline/calibration/inputs.py:50",
        "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py:70"
      ],
      "findings": [
        "Validators reject missing/invalid fields with explicit structured errors and stable messages.",
        "Pitch template validator requires V1 required marking labels; avoids silent partial templates."
      ]
    },
    "performance": {
      "status": "pass",
      "notes": "Linear-time validation over JSON structures; bounded work per file.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/calibration/inputs.py:50",
        "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py:70"
      ],
      "findings": [
        "Validation complexity is O(n) in number of fields/lines; no unbounded scans or external IO beyond reading the given file."
      ]
    },
    "security": {
      "status": "pass",
      "notes": "No dynamic code execution; file paths are treated as data and errors carry path context only.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/calibration/inputs.py:137",
        "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py:242"
      ],
      "findings": [
        "JSON parsing is via stdlib; no shelling out, no unsafe deserialization."
      ]
    },
    "maintainability": {
      "status": "pass",
      "notes": "Clear module separation and provenance tags; minor risk of schema duplication with contract validators.",
      "evidence": [
        "pipeline/src/fusbal_pipeline/contract.py:301",
        "pipeline/src/fusbal_pipeline/calibration/inputs.py:1",
        "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py:1"
      ],
      "findings": [
        "Schema validators exist both in `pipeline/src/fusbal_pipeline/contract.py` and in calibration modules; this is manageable now but creates drift risk."
      ]
    },
    "overall_status": "pass"
  },
  "gate": {
    "status": "pass",
    "blockers": []
  },
  "audit_inputs": {
    "task_spec_path": "spec/tasks/TASK-CAL-001.json",
    "deliverable_paths": [
      "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py",
      "pipeline/src/fusbal_pipeline/calibration/inputs.py",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/pitch_template.json",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/calibration_input.json",
      "pipeline/src/fusbal_pipeline/contract.py",
      "spec/md/docs/data/OUTPUT_CONTRACT.mdt"
    ],
    "code_paths_reviewed": [
      "pipeline/src/fusbal_pipeline/calibration/pitch_templates.py",
      "pipeline/src/fusbal_pipeline/calibration/inputs.py",
      "pipeline/src/fusbal_pipeline/contract.py",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/pitch_template.json",
      "pipeline/fixtures/calibration/venues/example_venue/pitch_a/calibration_input.json",
      "spec/md/docs/data/OUTPUT_CONTRACT.mdt"
    ]
  },
  "summary": {
    "overall_health_0_to_10": 8,
    "notes": "Meets functional objectives with deterministic validation and fixtures; main risk is long-term schema duplication between modules."
  }
}
